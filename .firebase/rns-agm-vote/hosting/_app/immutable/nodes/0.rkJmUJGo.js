import{s as S,e as y,o as m,a as R,u as $,g as D,f as C}from"../chunks/scheduler.ZABxAMYF.js";import{S as A,i as L,d as w,v as M,e as N,c as q,a as O,f as _,m as E,h as G,p as I,q as P}from"../chunks/index.Qd1TfXfj.js";import{b as h,d as r,c as p,e as u,f as v,g as V}from"../chunks/firebase.mxMszc5n.js";const{console:W}=V,j="C:/Users/cptda/OneDrive/Documents/RNS Website/RNS AGM svelte/RNS-AGM-Voting/src/routes/+layout.svelte";function d(s){let o,i;const c=s[1].default,e=y(c,s,s[0],null),l={c:function(){o=N("div"),e&&e.c(),this.h()},l:function(t){o=q(t,"DIV",{class:!0});var n=O(o);e&&e.l(n),n.forEach(_),this.h()},h:function(){E(o,"class","mainContainer s-7IPF32Wcq3s8"),R(o,j,47,0,1273)},m:function(t,n){G(t,o,n),e&&e.m(o,null),i=!0},p:function(t,[n]){e&&e.p&&(!i||n&1)&&$(e,c,t,t[0],i?C(c,t[0],n,null):D(t[0]),null)},i:function(t){i||(I(e,t),i=!0)},o:function(t){P(e,t),i=!1},d:function(t){t&&_(o),e&&e.d(t)}};return w("SvelteRegisterBlock",{block:l,id:d.name,type:"component",source:"",ctx:s}),l}function k(s,o,i){let{$$slots:c={},$$scope:e}=o;M("Layout",c,["default"]);const l=["/"];m(()=>{console.log("Mounting!"),h.onAuthStateChanged(async t=>{const n=window.location.pathname;if(!t&&!l.includes(n)&&window.location.pathname!=="/"){window.location.href="/";return}if(t&&n==="/"){window.location.href="/dashboard";return}if(!t)return;const g=u(r,"users",t.uid),f=await p(g);if(f.exists())f.data();else{const b=u(r,"user",t.uid);await v(b,{email:t.email})}})});const a=[];return Object.keys(o).forEach(t=>{!~a.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&W.warn(`<Layout> was created with unknown prop '${t}'`)}),s.$$set=t=>{"$$scope"in t&&i(0,e=t.$$scope)},s.$capture_state=()=>({onMount:m,auth:h,db:r,getDoc:p,doc:u,setDoc:v,nonAuthRoutes:l}),[e,c]}class z extends A{constructor(o){super(o),L(this,o,k,d,S,{}),w("SvelteRegisterComponent",{component:this,tagName:"Layout",options:o,id:d.name})}}export{z as component};
